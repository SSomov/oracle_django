{% extends 'main/base.html' %}

{% block content %}
<div class="upload">
    <div class="mt-5 mb-3">
        <h3>Search</h3>
    </div>
    <div class="row">
        <div class="col-12 col-md-2"></div>
        <div class="col-12 col-md-8">
            <div class="form-search">
                <div class="pt-3 pb-3 pr-3 pl-3">
                    <div class="form-group">
                        <input id="search-input" class="form-control mr-sm-2" type="search" placeholder="Search"
                            aria-label="Search">
                    </div>
                    <button id="btn-search" type="submit" class="btn btn-primary mb-3">Search</button>
                </div>
                <div id="table-info" style="display: none;">
                    <div id="info" class="mb-5 mr-4 ml-4 text-left p-3">

                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-2"></div>
    </div>
</div>

<script>
    document.getElementById('btn-search').onclick = function () {
        var inputVal = document.getElementById("search-input").value;
        axios.get('{% url 'ajax_search' %}?search=' + inputVal)
            .then(function (response) {
                document.getElementById('info').innerHTML = response.data;
                document.getElementById("table-info").style.display = "";
                console.log(response.data);
            });
    };
</script>
{% endblock %}